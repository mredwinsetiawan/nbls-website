/*!
 * froala_editor v2.5.2 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2017 Froala Labs
 */

!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c)}:a(window.jQuery)}(function(a){a.extend(a.FE.DEFAULTS,{}),a.FE.URLRegEx="(\\s|^|>)(((http|https|ftp|ftps)\\:\\/\\/)?(?!\\.)([a-zA-Z0-9\\-]|\\.(?!\\.))+(\\.[a-zA-Z]{2,3})(:\\d*)?(\\/[^\\s<]*)?)(\\s|$|<)",a.FE.PLUGINS.url=function(b){function c(a){for(;a.parentNode;)if(a=a.parentNode,["A","BUTTON","TEXTAREA"].indexOf(a.tagName)>=0)return!0;return!1}function d(a,c,d,e,f,g,i,j,k,l){var m=d;return/^((http|https|ftp|ftps)\:\/\/)/i.test(m)||(m="//"+m),(c||"")+"<a"+(b.opts.linkAlwaysBlank?' target="_blank"':"")+(h?' rel="'+h+'"':"")+' href="'+m+'">'+d+"</a>"+(l||"")}function e(c){return b.opts.linkAlwaysNoFollow&&(h="nofollow"),b.opts.linkAlwaysBlank&&(h?h+=" noopener noreferrer":h="noopener noreferrer"),c.replace(new RegExp(a.FE.URLRegEx,"gi"),d)}function f(){for(var d,f=b.doc.createTreeWalker(b.el,NodeFilter.SHOW_TEXT,b.node.filter(function(b){return new RegExp(a.FE.URLRegEx,"gi").test(b.textContent.replace(/&nbsp;/gi," "))&&!c(b)}),!1),g=[];f.nextNode();)d=f.currentNode,g.push(d);for(var h=0;h<g.length;h++)d=g[h],a(d).before(e(d.textContent)),d.parentNode.removeChild(d)}function g(){b.events.on("paste.afterCleanup",function(b){if(new RegExp(a.FE.URLRegEx,"gi").test(b))return e(b)}),b.events.on("keyup",function(c){var d=c.which;d!=a.FE.KEYCODE.ENTER&&d!=a.FE.KEYCODE.SPACE||f(b.node.contents(b.el))},!0),b.events.on("keydown",function(c){if(c.which==a.FE.KEYCODE.ENTER){var d=b.selection.element();if(("A"==d.tagName||a(d).parents("a").length)&&b.selection.info(d).atEnd)return c.stopImmediatePropagation(),"A"!==d.tagName&&(d=a(d).parents("a")[0]),a(d).after("&nbsp;"+a.FE.MARKERS),b.selection.restore(),!1}})}var h=null;return{_init:g}}});